{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Route = exports.MODAL_KEY = exports.POPUP_KEY = void 0;\n\nvar _workWithPathRegexp = require(\"../workWithPathRegexp\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e2) {\n          throw _e2;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e3) {\n      didErr = true;\n      err = _e3;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/**\n * @ignore\n */\n\n\nvar POPUP_KEY = 'p';\n/**\n * @ignore\n */\n\nexports.POPUP_KEY = POPUP_KEY;\nvar MODAL_KEY = 'm';\nexports.MODAL_KEY = MODAL_KEY;\nvar routeUniqueId = 1;\n\nfunction getNextUniqId() {\n  return routeUniqueId++;\n}\n\nfunction searchParamsToObject(searchParams) {\n  var obj = {};\n\n  var _iterator = _createForOfIteratorHelper(searchParams),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          _key = _step$value[0],\n          value = _step$value[1];\n\n      obj[_key] = value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return obj;\n}\n\nvar Route = /*#__PURE__*/function () {\n  /**\n   * @type {Page}\n   */\n  function Route(structure, pageId, params) {\n    _classCallCheck(this, Route);\n\n    _defineProperty(this, \"structure\", void 0);\n\n    _defineProperty(this, \"pageId\", void 0);\n\n    _defineProperty(this, \"params\", {});\n\n    _defineProperty(this, \"uniqId\", void 0);\n\n    this.structure = structure;\n    this.pageId = pageId;\n    this.params = params;\n    this.uniqId = getNextUniqId();\n  }\n\n  _createClass(Route, [{\n    key: \"clone\",\n    value: function clone() {\n      var copy = new Route(this.structure.clone(), this.pageId, _objectSpread({}, this.params));\n      copy.uniqId = this.uniqId;\n      return copy;\n    }\n  }, {\n    key: \"getLocation\",\n    value: function getLocation() {\n      return (0, _workWithPathRegexp.generatePath)(this.pageId, this.params);\n    }\n  }, {\n    key: \"getPageId\",\n    value: function getPageId() {\n      return this.pageId;\n    }\n  }, {\n    key: \"getPanelId\",\n    value: function getPanelId() {\n      if (this.structure.isInfinityPanel) {\n        return \"_\".concat(this.structure.panelId, \"..\").concat(String(this.uniqId));\n      }\n\n      return this.structure.panelId;\n    }\n  }, {\n    key: \"getPanelIdWithoutInfinity\",\n    value: function getPanelIdWithoutInfinity() {\n      return this.structure.panelId;\n    }\n  }, {\n    key: \"getViewId\",\n    value: function getViewId() {\n      return this.structure.viewId;\n    }\n  }, {\n    key: \"getRootId\",\n    value: function getRootId() {\n      return this.structure.rootId;\n    }\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      return this.params;\n    }\n  }, {\n    key: \"setParams\",\n    value: function setParams() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.params = _objectSpread(_objectSpread({}, this.params), params);\n      return this;\n    }\n  }, {\n    key: \"isPopup\",\n    value: function isPopup() {\n      return !!this.getPopupId();\n    }\n  }, {\n    key: \"getPopupId\",\n    value: function getPopupId() {\n      var _this$params$POPUP_KE;\n\n      return ((_this$params$POPUP_KE = this.params[POPUP_KEY]) === null || _this$params$POPUP_KE === void 0 ? void 0 : _this$params$POPUP_KE.toString()) || null;\n    }\n  }, {\n    key: \"setPopupId\",\n    value: function setPopupId(popupId) {\n      this.params[POPUP_KEY] = popupId;\n      return this;\n    }\n  }, {\n    key: \"isModal\",\n    value: function isModal() {\n      return !!this.getModalId();\n    }\n  }, {\n    key: \"hasOverlay\",\n    value: function hasOverlay() {\n      return this.isModal() || this.isPopup();\n    }\n  }, {\n    key: \"getModalId\",\n    value: function getModalId() {\n      var _this$params$MODAL_KE;\n\n      return ((_this$params$MODAL_KE = this.params[MODAL_KEY]) === null || _this$params$MODAL_KE === void 0 ? void 0 : _this$params$MODAL_KE.toString()) || null;\n    }\n  }, {\n    key: \"setModalId\",\n    value: function setModalId(modalId) {\n      this.params[MODAL_KEY] = modalId;\n      return this;\n    }\n  }, {\n    key: \"out\",\n    value: function out() {// $TSFixMe\n    }\n  }, {\n    key: \"in\",\n    value: function _in() {// $TSFixMe\n    }\n  }], [{\n    key: \"getParamsFromPath\",\n    value: function getParamsFromPath(location) {\n      if (location.includes('?')) {\n        var _location$split = location.split('?', 2),\n            _location$split2 = _slicedToArray(_location$split, 2),\n            qs = _location$split2[1];\n\n        return searchParamsToObject(new URLSearchParams(qs));\n      } else {\n        return {};\n      }\n    }\n    /**\n     * @param {RouteList} routeList\n     * @param location \"info?w=about&show=1\" то, что лежит в window.location.hash\n     * @param noSlash\n     */\n\n  }, {\n    key: \"fromLocation\",\n    value: function fromLocation(routeList, location) {\n      var noSlash = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var params = Route.getParamsFromPath(location);\n      location = location.replace('#', '');\n\n      if (noSlash && location.length && !location.startsWith('/')) {\n        location = \"/\".concat(location);\n      }\n\n      if (noSlash && !location.length) {\n        location = \"/\".concat(location);\n      }\n\n      location = location.split('?', 2).shift() || (noSlash ? '/' : '');\n      var match = null;\n\n      for (var pageId in routeList) {\n        if (routeList.hasOwnProperty(pageId)) {\n          match = (0, _workWithPathRegexp.matchPath)(location, pageId);\n\n          if (match && match.isExact) {\n            break;\n          }\n        }\n      }\n\n      if (!match) {\n        throw new Error('ROUTE_NOT_FOUND');\n      }\n\n      var ps = routeList[match.path];\n\n      if (!ps) {\n        throw new Error(\"Router fail: cant find structure in routes for \".concat(location));\n      }\n\n      return new Route(ps, match.path, _objectSpread(_objectSpread({}, params), match.params));\n    }\n  }, {\n    key: \"fromPageId\",\n    value: function fromPageId(routeList, pageId, params) {\n      var ps = routeList[pageId];\n\n      if (!ps) {\n        throw new Error(\"Router fail: cant find structure in routes for \".concat(pageId));\n      }\n\n      return new Route(ps, pageId, params || {});\n    }\n  }]);\n\n  return Route;\n}();\n\nexports.Route = Route;","map":{"version":3,"names":["Object","defineProperty","exports","value","Route","MODAL_KEY","POPUP_KEY","_workWithPathRegexp","require","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype","obj","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","Array","isArray","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","_e2","f","normalCompletion","didErr","step","_e3","minLen","_arrayLikeToArray","toString","call","slice","constructor","name","from","test","len","arr2","routeUniqueId","getNextUniqId","searchParamsToObject","searchParams","_iterator","_step","_step$value","_key","structure","pageId","params","uniqId","clone","copy","getLocation","generatePath","getPageId","getPanelId","isInfinityPanel","concat","panelId","String","getPanelIdWithoutInfinity","getViewId","viewId","getRootId","rootId","getParams","setParams","isPopup","getPopupId","_this$params$POPUP_KE","setPopupId","popupId","isModal","getModalId","hasOverlay","_this$params$MODAL_KE","setModalId","modalId","out","_in","getParamsFromPath","location","includes","_location$split","split","_location$split2","qs","URLSearchParams","fromLocation","routeList","noSlash","replace","startsWith","shift","match","hasOwnProperty","matchPath","isExact","Error","ps","path","fromPageId"],"sources":["/home/oleg/miniAppsVk/node_modules/@happysanta/router/dist/lib/entities/Route.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Route = exports.MODAL_KEY = exports.POPUP_KEY = void 0;\n\nvar _workWithPathRegexp = require(\"../workWithPathRegexp\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @ignore\n */\nvar POPUP_KEY = 'p';\n/**\n * @ignore\n */\n\nexports.POPUP_KEY = POPUP_KEY;\nvar MODAL_KEY = 'm';\nexports.MODAL_KEY = MODAL_KEY;\nvar routeUniqueId = 1;\n\nfunction getNextUniqId() {\n  return routeUniqueId++;\n}\n\nfunction searchParamsToObject(searchParams) {\n  var obj = {};\n\n  var _iterator = _createForOfIteratorHelper(searchParams),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          _key = _step$value[0],\n          value = _step$value[1];\n\n      obj[_key] = value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return obj;\n}\n\nvar Route = /*#__PURE__*/function () {\n  /**\n   * @type {Page}\n   */\n  function Route(structure, pageId, params) {\n    _classCallCheck(this, Route);\n\n    _defineProperty(this, \"structure\", void 0);\n\n    _defineProperty(this, \"pageId\", void 0);\n\n    _defineProperty(this, \"params\", {});\n\n    _defineProperty(this, \"uniqId\", void 0);\n\n    this.structure = structure;\n    this.pageId = pageId;\n    this.params = params;\n    this.uniqId = getNextUniqId();\n  }\n\n  _createClass(Route, [{\n    key: \"clone\",\n    value: function clone() {\n      var copy = new Route(this.structure.clone(), this.pageId, _objectSpread({}, this.params));\n      copy.uniqId = this.uniqId;\n      return copy;\n    }\n  }, {\n    key: \"getLocation\",\n    value: function getLocation() {\n      return (0, _workWithPathRegexp.generatePath)(this.pageId, this.params);\n    }\n  }, {\n    key: \"getPageId\",\n    value: function getPageId() {\n      return this.pageId;\n    }\n  }, {\n    key: \"getPanelId\",\n    value: function getPanelId() {\n      if (this.structure.isInfinityPanel) {\n        return \"_\".concat(this.structure.panelId, \"..\").concat(String(this.uniqId));\n      }\n\n      return this.structure.panelId;\n    }\n  }, {\n    key: \"getPanelIdWithoutInfinity\",\n    value: function getPanelIdWithoutInfinity() {\n      return this.structure.panelId;\n    }\n  }, {\n    key: \"getViewId\",\n    value: function getViewId() {\n      return this.structure.viewId;\n    }\n  }, {\n    key: \"getRootId\",\n    value: function getRootId() {\n      return this.structure.rootId;\n    }\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      return this.params;\n    }\n  }, {\n    key: \"setParams\",\n    value: function setParams() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.params = _objectSpread(_objectSpread({}, this.params), params);\n      return this;\n    }\n  }, {\n    key: \"isPopup\",\n    value: function isPopup() {\n      return !!this.getPopupId();\n    }\n  }, {\n    key: \"getPopupId\",\n    value: function getPopupId() {\n      var _this$params$POPUP_KE;\n\n      return ((_this$params$POPUP_KE = this.params[POPUP_KEY]) === null || _this$params$POPUP_KE === void 0 ? void 0 : _this$params$POPUP_KE.toString()) || null;\n    }\n  }, {\n    key: \"setPopupId\",\n    value: function setPopupId(popupId) {\n      this.params[POPUP_KEY] = popupId;\n      return this;\n    }\n  }, {\n    key: \"isModal\",\n    value: function isModal() {\n      return !!this.getModalId();\n    }\n  }, {\n    key: \"hasOverlay\",\n    value: function hasOverlay() {\n      return this.isModal() || this.isPopup();\n    }\n  }, {\n    key: \"getModalId\",\n    value: function getModalId() {\n      var _this$params$MODAL_KE;\n\n      return ((_this$params$MODAL_KE = this.params[MODAL_KEY]) === null || _this$params$MODAL_KE === void 0 ? void 0 : _this$params$MODAL_KE.toString()) || null;\n    }\n  }, {\n    key: \"setModalId\",\n    value: function setModalId(modalId) {\n      this.params[MODAL_KEY] = modalId;\n      return this;\n    }\n  }, {\n    key: \"out\",\n    value: function out() {// $TSFixMe\n    }\n  }, {\n    key: \"in\",\n    value: function _in() {// $TSFixMe\n    }\n  }], [{\n    key: \"getParamsFromPath\",\n    value: function getParamsFromPath(location) {\n      if (location.includes('?')) {\n        var _location$split = location.split('?', 2),\n            _location$split2 = _slicedToArray(_location$split, 2),\n            qs = _location$split2[1];\n\n        return searchParamsToObject(new URLSearchParams(qs));\n      } else {\n        return {};\n      }\n    }\n    /**\n     * @param {RouteList} routeList\n     * @param location \"info?w=about&show=1\" то, что лежит в window.location.hash\n     * @param noSlash\n     */\n\n  }, {\n    key: \"fromLocation\",\n    value: function fromLocation(routeList, location) {\n      var noSlash = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var params = Route.getParamsFromPath(location);\n      location = location.replace('#', '');\n\n      if (noSlash && location.length && !location.startsWith('/')) {\n        location = \"/\".concat(location);\n      }\n\n      if (noSlash && !location.length) {\n        location = \"/\".concat(location);\n      }\n\n      location = location.split('?', 2).shift() || (noSlash ? '/' : '');\n      var match = null;\n\n      for (var pageId in routeList) {\n        if (routeList.hasOwnProperty(pageId)) {\n          match = (0, _workWithPathRegexp.matchPath)(location, pageId);\n\n          if (match && match.isExact) {\n            break;\n          }\n        }\n      }\n\n      if (!match) {\n        throw new Error('ROUTE_NOT_FOUND');\n      }\n\n      var ps = routeList[match.path];\n\n      if (!ps) {\n        throw new Error(\"Router fail: cant find structure in routes for \".concat(location));\n      }\n\n      return new Route(ps, match.path, _objectSpread(_objectSpread({}, params), match.params));\n    }\n  }, {\n    key: \"fromPageId\",\n    value: function fromPageId(routeList, pageId, params) {\n      var ps = routeList[pageId];\n\n      if (!ps) {\n        throw new Error(\"Router fail: cant find structure in routes for \".concat(pageId));\n      }\n\n      return new Route(ps, pageId, params || {});\n    }\n  }]);\n\n  return Route;\n}();\n\nexports.Route = Route;"],"mappings":"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"},"metadata":{},"sourceType":"script"}