{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRouter = useRouter;\n\nvar _react = require(\"react\");\n\nvar _ = require(\"../..\");\n\nvar useForceUpdate = function useForceUpdate() {\n  return (0, _react.useState)(0)[1];\n};\n\nfunction useRouter() {\n  var withUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var router = (0, _react.useContext)(_.RouterContext);\n\n  if (!router) {\n    throw new Error('Use useRoute without context');\n  }\n\n  var forceUpdate = useForceUpdate();\n  (0, _react.useEffect)(function () {\n    var fn = function fn() {\n      if (withUpdate) {\n        forceUpdate(Date.now());\n      }\n    };\n\n    router.on('update', fn);\n    return function () {\n      router.off('update', fn);\n    };\n  }, []);\n  return router;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","useRouter","_react","require","_","useForceUpdate","useState","withUpdate","arguments","length","undefined","router","useContext","RouterContext","Error","forceUpdate","useEffect","fn","Date","now","on","off"],"sources":["/home/oleg/miniAppsVk/node_modules/@happysanta/router/dist/lib/hooks/useRouter.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRouter = useRouter;\n\nvar _react = require(\"react\");\n\nvar _ = require(\"../..\");\n\nvar useForceUpdate = function useForceUpdate() {\n  return (0, _react.useState)(0)[1];\n};\n\nfunction useRouter() {\n  var withUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var router = (0, _react.useContext)(_.RouterContext);\n\n  if (!router) {\n    throw new Error('Use useRoute without context');\n  }\n\n  var forceUpdate = useForceUpdate();\n  (0, _react.useEffect)(function () {\n    var fn = function fn() {\n      if (withUpdate) {\n        forceUpdate(Date.now());\n      }\n    };\n\n    router.on('update', fn);\n    return function () {\n      router.off('update', fn);\n    };\n  }, []);\n  return router;\n}"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,SAAR,GAAoBA,SAApB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,CAAC,GAAGD,OAAO,CAAC,OAAD,CAAf;;AAEA,IAAIE,cAAc,GAAG,SAASA,cAAT,GAA0B;EAC7C,OAAO,CAAC,GAAGH,MAAM,CAACI,QAAX,EAAqB,CAArB,EAAwB,CAAxB,CAAP;AACD,CAFD;;AAIA,SAASL,SAAT,GAAqB;EACnB,IAAIM,UAAU,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAArF;EACA,IAAIG,MAAM,GAAG,CAAC,GAAGT,MAAM,CAACU,UAAX,EAAuBR,CAAC,CAACS,aAAzB,CAAb;;EAEA,IAAI,CAACF,MAAL,EAAa;IACX,MAAM,IAAIG,KAAJ,CAAU,8BAAV,CAAN;EACD;;EAED,IAAIC,WAAW,GAAGV,cAAc,EAAhC;EACA,CAAC,GAAGH,MAAM,CAACc,SAAX,EAAsB,YAAY;IAChC,IAAIC,EAAE,GAAG,SAASA,EAAT,GAAc;MACrB,IAAIV,UAAJ,EAAgB;QACdQ,WAAW,CAACG,IAAI,CAACC,GAAL,EAAD,CAAX;MACD;IACF,CAJD;;IAMAR,MAAM,CAACS,EAAP,CAAU,QAAV,EAAoBH,EAApB;IACA,OAAO,YAAY;MACjBN,MAAM,CAACU,GAAP,CAAW,QAAX,EAAqBJ,EAArB;IACD,CAFD;EAGD,CAXD,EAWG,EAXH;EAYA,OAAON,MAAP;AACD"},"metadata":{},"sourceType":"script"}