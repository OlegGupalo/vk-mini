{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.History = exports.HISTORY_UPDATE_MOVE = exports.HISTORY_UPDATE_REPLACE = exports.HISTORY_UPDATE_PUSH = void 0;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @ignore\n * @packageDocumentation\n */\n\n/**\n * @ignore\n */\n\n\nvar HISTORY_UPDATE_PUSH = 'PUSH';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_PUSH = HISTORY_UPDATE_PUSH;\nvar HISTORY_UPDATE_REPLACE = 'REPLACE';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_REPLACE = HISTORY_UPDATE_REPLACE;\nvar HISTORY_UPDATE_MOVE = 'MOVE';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_MOVE = HISTORY_UPDATE_MOVE;\n/**\n * @ignore\n */\n\nvar History = /*#__PURE__*/function () {\n  function History() {\n    var _this = this;\n\n    _classCallCheck(this, History);\n\n    _defineProperty(this, \"stack\", []);\n\n    _defineProperty(this, \"currentIndex\", 0);\n\n    _defineProperty(this, \"setLastPanelInView\", function (next, prev) {\n      var state = _this.getCurrentState();\n\n      if (!state) {\n        return;\n      }\n\n      state.panelInView = _objectSpread(_objectSpread({}, state.panelInView), {}, _defineProperty({}, next.getViewId(), next.getPanelId()));\n\n      if (prev) {\n        state.panelInView = _objectSpread(_objectSpread({}, state.panelInView), {}, _defineProperty({}, prev.getViewId(), prev.getPanelId()));\n      }\n    });\n  }\n\n  _createClass(History, [{\n    key: \"push\",\n    value: function push(r, s) {\n      var current = this.getCurrentRoute();\n\n      if (this.getCurrentIndex() !== this.getLength() - 1) {\n        // Пуш после отката назад, в этом случае вся история \"впереди\" удаляется\n        this.stack = this.stack.slice(0, this.getCurrentIndex() + 1);\n      }\n\n      this.stack.push([r, s]);\n      this.currentIndex = this.stack.length - 1;\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, true, HISTORY_UPDATE_PUSH];\n      } else {\n        // Если мы только что запушили новое состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on push state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(r, s) {\n      var current = this.getCurrentRoute();\n      this.stack[this.currentIndex] = [r, s];\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, true, HISTORY_UPDATE_REPLACE];\n      } else {\n        // Если мы только что заменили состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on replace state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"setCurrentIndex\",\n    value: function setCurrentIndex(x) {\n      var current = this.getCurrentRoute();\n      this.currentIndex = x;\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, false, HISTORY_UPDATE_MOVE];\n      } else {\n        // Если мы только что заменили состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on push state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"move\",\n    value: function move(to) {\n      this.currentIndex += to;\n    }\n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return this.stack.length;\n    }\n  }, {\n    key: \"getCurrentIndex\",\n    value: function getCurrentIndex() {\n      return this.currentIndex;\n    }\n  }, {\n    key: \"getCurrentRoute\",\n    value: function getCurrentRoute() {\n      return this.stack[this.currentIndex] ? this.stack[this.currentIndex][0] : undefined;\n    }\n  }, {\n    key: \"getCurrentState\",\n    value: function getCurrentState() {\n      return this.stack[this.currentIndex] ? this.stack[this.currentIndex][1] : undefined;\n    }\n  }, {\n    key: \"getHistoryItem\",\n    value: function getHistoryItem() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var index = this.currentIndex + offset;\n      return this.stack[index] ? this.stack[index] : undefined;\n    }\n  }, {\n    key: \"canJumpIntoOffset\",\n    value: function canJumpIntoOffset(offset) {\n      var index = this.currentIndex + offset;\n      return index >= 0 && index <= this.getLength() - 1;\n    }\n  }, {\n    key: \"getPageOffset\",\n    value: function getPageOffset(pageId) {\n      for (var i = this.currentIndex - 1; i >= 0; i--) {\n        var route = this.stack[i][0];\n\n        if (route.getPageId() === pageId) {\n          // Страница совпадает но может быть ситуация когда поверх этой страницы попап или модалка\n          // такое мы должны пропустить нас попросили найти смещение до конкретной страницы\n          if (!route.hasOverlay()) {\n            return i - this.currentIndex;\n          }\n        }\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getFirstPageOffset\",\n    value: function getFirstPageOffset() {\n      for (var i = this.currentIndex - 1; i >= 0; i--) {\n        var route = this.stack[i][0];\n\n        if (!route.hasOverlay()) {\n          return i - this.currentIndex;\n        }\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getHistoryFromStartToCurrent\",\n    value: function getHistoryFromStartToCurrent() {\n      return this.stack.slice(0, this.currentIndex + 1);\n    }\n  }]);\n\n  return History;\n}();\n\nexports.History = History;","map":{"version":3,"names":["Object","defineProperty","exports","value","History","HISTORY_UPDATE_MOVE","HISTORY_UPDATE_REPLACE","HISTORY_UPDATE_PUSH","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype","obj","_this","next","prev","state","getCurrentState","panelInView","getViewId","getPanelId","r","s","current","getCurrentRoute","getCurrentIndex","getLength","stack","slice","currentIndex","out","setLastPanelInView","Error","replace","setCurrentIndex","x","move","to","undefined","getHistoryItem","offset","index","canJumpIntoOffset","getPageOffset","pageId","route","getPageId","hasOverlay","getFirstPageOffset","getHistoryFromStartToCurrent"],"sources":["/home/oleg/miniAppsVk/node_modules/@happysanta/router/dist/lib/entities/History.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.History = exports.HISTORY_UPDATE_MOVE = exports.HISTORY_UPDATE_REPLACE = exports.HISTORY_UPDATE_PUSH = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @ignore\n * @packageDocumentation\n */\n\n/**\n * @ignore\n */\nvar HISTORY_UPDATE_PUSH = 'PUSH';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_PUSH = HISTORY_UPDATE_PUSH;\nvar HISTORY_UPDATE_REPLACE = 'REPLACE';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_REPLACE = HISTORY_UPDATE_REPLACE;\nvar HISTORY_UPDATE_MOVE = 'MOVE';\n/**\n * @ignore\n */\n\nexports.HISTORY_UPDATE_MOVE = HISTORY_UPDATE_MOVE;\n\n/**\n * @ignore\n */\nvar History = /*#__PURE__*/function () {\n  function History() {\n    var _this = this;\n\n    _classCallCheck(this, History);\n\n    _defineProperty(this, \"stack\", []);\n\n    _defineProperty(this, \"currentIndex\", 0);\n\n    _defineProperty(this, \"setLastPanelInView\", function (next, prev) {\n      var state = _this.getCurrentState();\n\n      if (!state) {\n        return;\n      }\n\n      state.panelInView = _objectSpread(_objectSpread({}, state.panelInView), {}, _defineProperty({}, next.getViewId(), next.getPanelId()));\n\n      if (prev) {\n        state.panelInView = _objectSpread(_objectSpread({}, state.panelInView), {}, _defineProperty({}, prev.getViewId(), prev.getPanelId()));\n      }\n    });\n  }\n\n  _createClass(History, [{\n    key: \"push\",\n    value: function push(r, s) {\n      var current = this.getCurrentRoute();\n\n      if (this.getCurrentIndex() !== this.getLength() - 1) {\n        // Пуш после отката назад, в этом случае вся история \"впереди\" удаляется\n        this.stack = this.stack.slice(0, this.getCurrentIndex() + 1);\n      }\n\n      this.stack.push([r, s]);\n      this.currentIndex = this.stack.length - 1;\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, true, HISTORY_UPDATE_PUSH];\n      } else {\n        // Если мы только что запушили новое состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on push state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(r, s) {\n      var current = this.getCurrentRoute();\n      this.stack[this.currentIndex] = [r, s];\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, true, HISTORY_UPDATE_REPLACE];\n      } else {\n        // Если мы только что заменили состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on replace state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"setCurrentIndex\",\n    value: function setCurrentIndex(x) {\n      var current = this.getCurrentRoute();\n      this.currentIndex = x;\n      var next = this.getCurrentRoute();\n      current === null || current === void 0 ? void 0 : current.out();\n      next === null || next === void 0 ? void 0 : next[\"in\"]();\n\n      if (next) {\n        this.setLastPanelInView(next, current);\n        return [next, current, false, HISTORY_UPDATE_MOVE];\n      } else {\n        // Если мы только что заменили состояние то оно никак не может оказаться пустым\n        // если оказалось то что-то не так\n        throw new Error('Impossible error on push state, next state is empty!');\n      }\n    }\n  }, {\n    key: \"move\",\n    value: function move(to) {\n      this.currentIndex += to;\n    }\n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return this.stack.length;\n    }\n  }, {\n    key: \"getCurrentIndex\",\n    value: function getCurrentIndex() {\n      return this.currentIndex;\n    }\n  }, {\n    key: \"getCurrentRoute\",\n    value: function getCurrentRoute() {\n      return this.stack[this.currentIndex] ? this.stack[this.currentIndex][0] : undefined;\n    }\n  }, {\n    key: \"getCurrentState\",\n    value: function getCurrentState() {\n      return this.stack[this.currentIndex] ? this.stack[this.currentIndex][1] : undefined;\n    }\n  }, {\n    key: \"getHistoryItem\",\n    value: function getHistoryItem() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var index = this.currentIndex + offset;\n      return this.stack[index] ? this.stack[index] : undefined;\n    }\n  }, {\n    key: \"canJumpIntoOffset\",\n    value: function canJumpIntoOffset(offset) {\n      var index = this.currentIndex + offset;\n      return index >= 0 && index <= this.getLength() - 1;\n    }\n  }, {\n    key: \"getPageOffset\",\n    value: function getPageOffset(pageId) {\n      for (var i = this.currentIndex - 1; i >= 0; i--) {\n        var route = this.stack[i][0];\n\n        if (route.getPageId() === pageId) {\n          // Страница совпадает но может быть ситуация когда поверх этой страницы попап или модалка\n          // такое мы должны пропустить нас попросили найти смещение до конкретной страницы\n          if (!route.hasOverlay()) {\n            return i - this.currentIndex;\n          }\n        }\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getFirstPageOffset\",\n    value: function getFirstPageOffset() {\n      for (var i = this.currentIndex - 1; i >= 0; i--) {\n        var route = this.stack[i][0];\n\n        if (!route.hasOverlay()) {\n          return i - this.currentIndex;\n        }\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getHistoryFromStartToCurrent\",\n    value: function getHistoryFromStartToCurrent() {\n      return this.stack.slice(0, this.currentIndex + 1);\n    }\n  }]);\n\n  return History;\n}();\n\nexports.History = History;"],"mappings":"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"},"metadata":{},"sourceType":"script"}